# ================================
# RECURSIVE CHECKING - GATEWAY IP
# ================================

# Route untuk memeriksa konektivitas ISP1
# Jika 8.8.8.8 tidak bisa dijangkau melalui gateway ISP1, maka dianggap down
/ip route
add dst-address=8.8.8.8 gateway=114.7.20.49 scope=10 target-scope=10 distance=1 comment="Check koneksi ISP1 via FO (114.7.20.49)"

# Route untuk memeriksa konektivitas ISP2
# Jika 1.1.1.1 tidak bisa dijangkau melalui gateway ISP2, maka dianggap down
/ip route
add dst-address=1.1.1.1 gateway=124.195.124.177 scope=10 target-scope=10 distance=1 comment="Check koneksi ISP2 via MW (124.195.124.177)"

# ============================
# DEFAULT ROUTE DENGAN FAILOVER
# ============================

# Default route utama via ISP1
# Akan aktif hanya jika 8.8.8.8 reachable via 114.7.20.49
/ip route
add dst-address=0.0.0.0/0 gateway=8.8.8.8 distance=1 comment="Default Route - ISP1 FO (utama)"

# Default route backup via ISP2
# Akan aktif jika 1.1.1.1 reachable dan ISP1 (8.8.8.8) down
/ip route
add dst-address=0.0.0.0/0 gateway=1.1.1.1 distance=2 comment="Default Route - ISP2 MW (backup)"
